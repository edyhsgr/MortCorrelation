filter(keep.df, Year==1960, rank10==7)
keep.df = state.df %>%
group_by(PopName, Year) %>%
summarize( x10 = e_inverse(10, ex),
x15 = e_inverse(15, ex)) %>%
group_by(Year) %>%
mutate (rank10 = rank(x10),
rank15 = rank(x15))
ggplot(data = filter(keep.df, Year %in% c(1965,2015)),
aes(x=rank15, y=x15, label=PopName)) +
geom_text(size=4)
ggplot(data = filter(keep.df, Year %in% c(1965,2015)),
aes(x=rank15, y=x15, label=PopName, color=Year)) +
geom_text(size=2) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,2015)),
aes(x=rank15, y=x15, label=PopName, color=Year)) +
scale_color_manual(values=c('red','blue'),guide=FALSE) +
geom_text(size=2) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,2015)),
aes(x=rank15, y=x15, label=PopName, color=Year)) +
scale_color_disrete(values=c('red','blue'),guide=FALSE) +
geom_text(size=2) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,2015)),
aes(x=rank15, y=x15, label=PopName, color=Year)) +
scale_color_discrete(values=c('red','blue'),guide=FALSE) +
geom_text(size=2) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,2015)),
aes(x=rank15, y=x15, label=PopName, color=Year)) +
scale_color_discrete(c('red','blue'),guide=FALSE) +
geom_text(size=2) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
#  scale_color_discrete(c('red','blue'),guide=FALSE) +
geom_text(size=2) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
#  scale_color_discrete(c('red','blue'),guide=FALSE) +
geom_text(size=2) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
scale_color_discrete(c('red','blue','purple'),guide=FALSE) +
geom_text(size=1.5) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=1.5) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=2.5) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=2.5. face='bold') +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=2.5, face='bold') +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=3) +
theme(text=element_text(face='bold')) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=3) +
scale_color_manual(values=c('red','blue','purple')) +
theme(text=element_text(face='bold')) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=3) +
scale_color_manual(values=c('red','blue','black')) +
theme(text=element_text(face='bold')) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=3) +
scale_color_manual(values=c('red','blue','black')) +
labs(title='How Much Longer Will Minnesotans live than Mississippians?\nby Current Age',
x='Current Age',
y='Expected Years of Extra Life for Minnesotans',
caption='ex[MN]-ex[MS], both sexes combined, from US Mortality Database http://usa.mortality.org') +
theme(text=element_text(face='bold')) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=3) +
scale_color_manual(values=c('red','blue','black')) +
labs(title='What is the age at which you can expect to live 15 more years?\nby Current Age',
x='',
y='Age at which ex=15',
caption='Both sexes combined, from US Mortality Database http://usa.mortality.org') +
theme(text=element_text(face='bold')) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=3) +
scale_color_manual(values=c('red','blue','black')) +
labs(title='At which you can expect to live 15 more years?\nby state of residence',
x='',
y='Age at which ex=15',
caption='Both sexes combined, from US Mortality Database http://usa.mortality.org') +
theme(text=element_text(face='bold')) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=2.5) +
scale_color_manual(values=c('red','blue','black')) +
labs(title='At which you can expect to live 15 more years?\nby state of residence',
x='',
y='Age at which ex=15',
caption='Both sexes combined, from US Mortality Database http://usa.mortality.org') +
theme(text=element_text(face='bold')) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=2.2) +
scale_color_manual(values=c('red','blue','black')) +
labs(title='At which you can expect to live 15 more years?\nby state of residence',
x='',
y='Age at which ex=15',
caption='Both sexes combined, from US Mortality Database http://usa.mortality.org') +
theme(text=element_text(face='bold')) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=2.2) +
scale_color_manual(values=c('red','blue','black')) +
guides(color=FALSE) +
labs(title='At which you can expect to live 15 more years?\nby state of residence',
x='',
y='Age at which ex=15',
caption='Both sexes combined, from US Mortality Database http://usa.mortality.org') +
theme(text=element_text(face='bold')) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=2.5) +
scale_color_manual(values=c('red','blue','black')) +
guides(color=FALSE) +
geom_text( aes(x=50, y=64.5), label='1965', size=6, col='red') +
geom_text( aes(x=50, y=6.1), label='1990', size=6, col='blue') +
geom_text( aes(x=50, y=3.2), label='2015', size=6, col='black') +
labs(title='At which you can expect to live 15 more years?\nby state of residence',
x='',
y='Age at which ex=15',
caption='Both sexes combined, from US Mortality Database http://usa.mortality.org') +
theme(text=element_text(face='bold')) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=2.5) +
scale_color_manual(values=c('red','blue','black')) +
guides(color=FALSE) +
geom_text( aes(x=50, y=64.5), label='1965', size=4, col='red') +
geom_text( aes(x=50, y=70.0), label='1990', size=4, col='blue') +
geom_text( aes(x=50, y=75.0), label='2015', size=4, col='black') +
labs(title='At which you can expect to live 15 more years?\nby state of residence',
x='',
y='Age at which ex=15',
caption='Both sexes combined, from US Mortality Database http://usa.mortality.org') +
theme(text=element_text(face='bold')) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=2.5) +
scale_color_manual(values=c('red','blue','black')) +
guides(color=FALSE) +
geom_text( aes(x=50, y=64.8), label='1965', size=5, col='red') +
geom_text( aes(x=50, y=69.0), label='1990', size=5, col='blue') +
geom_text( aes(x=50, y=72.0), label='2015', size=5, col='black') +
labs(title='At which you can expect to live 15 more years?\nby state of residence',
x='',
y='Age at which ex=15',
caption='Both sexes combined, from US Mortality Database http://usa.mortality.org') +
theme(text=element_text(face='bold')) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=2.5) +
scale_color_manual(values=c('red','blue','black')) +
guides(color=FALSE) +
geom_text( aes(x=50, y=65.0), label='1965', size=5, col='red') +
geom_text( aes(x=50, y=69.0), label='1990', size=5, col='blue') +
geom_text( aes(x=50, y=72.0), label='2015', size=5, col='black') +
labs(title='At which you can expect to live 15 more years?\nby state of residence',
x='',
y='Age at which ex=15',
caption='Both sexes combined, from US Mortality Database http://usa.mortality.org') +
theme(text=element_text(face='bold')) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=2.5, alpha=.80) +
scale_color_manual(values=c('red','blue','black')) +
guides(color=FALSE) +
geom_text( aes(x=50, y=65.0), label='1965', size=5, col='red') +
geom_text( aes(x=50, y=69.0), label='1990', size=5, col='blue') +
geom_text( aes(x=50, y=72.0), label='2015', size=5, col='black') +
labs(title='At which you can expect to live 15 more years?\nby state of residence',
x='',
y='Age at which ex=15',
caption='Both sexes combined, from US Mortality Database http://usa.mortality.org') +
theme(text=element_text(face='bold')) +
theme_bw()
#---------------------------------------------
# Carl Schmertmann
# created 21 Sep 18
# altered 31 Sep 18
#
# age at which e(x)=15, by state and period
#---------------------------------------------
rm(list=ls())
library(tidyverse)
library(viridis)
graphics.off()
if (.Platform$OS.type == 'windows') windows(record=TRUE, width=8, height=8)
included_states = sort( c(state.abb, 'DC'))
file_list = paste0('States/',included_states,'/',
included_states,'_bltper_1x1.csv')
unzip(zipfile='lifetables.zip', files=file_list, junkpaths=TRUE)
state.df = data.frame()
for (this.state in included_states) {
this.file = paste0(this.state,'_bltper_1x1.csv')
this.df = read.csv(this.file, stringsAsFactors = FALSE)
this.df$Age = 0:110 # make numeric
state.df = rbind( state.df, this.df)
file.remove(this.file)
}
## find the age at which ex=15 from an ex column
e_inverse = function( target_value=15, ex_column) {
approx( x=ex_column, y=0:110, xout = target_value)$y
}
keep.df = state.df %>%
group_by(PopName, Year) %>%
summarize( x10 = e_inverse(10, ex),
x15 = e_inverse(15, ex)) %>%
group_by(Year) %>%
mutate (rank10 = rank(x10),
rank15 = rank(x15))
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=2.5, alpha=.80) +
scale_color_manual(values=c('red','blue','black')) +
guides(color=FALSE) +
geom_text( aes(x=50, y=65.0), label='1965', size=5, col='red') +
geom_text( aes(x=50, y=69.0), label='1990', size=5, col='blue') +
geom_text( aes(x=50, y=72.0), label='2015', size=5, col='black') +
labs(title='At which you can expect to live 15 more years?\nby state of residence',
x='',
y='Age at which ex=15',
caption='Both sexes combined, from US Mortality Database http://usa.mortality.org') +
theme(text=element_text(face='bold')) +
theme_bw()
ggsave(file='when-is-ex-equal-15.png')
#---------------------------------------------
# Carl Schmertmann
# created 21 Sep 18
# altered 31 Sep 18
#
# age at which e(x)=15, by state and period
#---------------------------------------------
rm(list=ls())
library(tidyverse)
library(viridis)
graphics.off()
if (.Platform$OS.type == 'windows') windows(record=TRUE, width=8, height=8)
included_states = sort( c(state.abb, 'DC'))
file_list = paste0('States/',included_states,'/',
included_states,'_bltper_1x1.csv')
unzip(zipfile='lifetables.zip', files=file_list, junkpaths=TRUE)
state.df = data.frame()
for (this.state in included_states) {
this.file = paste0(this.state,'_bltper_1x1.csv')
this.df = read.csv(this.file, stringsAsFactors = FALSE)
this.df$Age = 0:110 # make numeric
state.df = rbind( state.df, this.df)
file.remove(this.file)
}
## find the age at which ex=15 from an ex column
e_inverse = function( target_value=15, ex_column) {
approx( x=ex_column, y=0:110, xout = target_value)$y
}
keep.df = state.df %>%
group_by(PopName, Year) %>%
summarize( x10 = e_inverse(10, ex),
x15 = e_inverse(15, ex)) %>%
group_by(Year) %>%
mutate (rank10 = rank(x10),
rank15 = rank(x15))
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=2.2, alpha=.80) +
scale_color_manual(values=c('red','blue','black')) +
guides(color=FALSE) +
geom_text( aes(x=50, y=65.0), label='1965', size=5, col='red') +
geom_text( aes(x=50, y=69.0), label='1990', size=5, col='blue') +
geom_text( aes(x=50, y=72.0), label='2015', size=5, col='black') +
labs(title='At which you can expect to live 15 more years?\nby state of residence',
x='',
y='Age at which ex=15',
caption='Both sexes combined, from US Mortality Database http://usa.mortality.org') +
theme(text=element_text(face='bold')) +
theme_bw()
ggsave(file='when-is-ex-equal-15.png')
#---------------------------------------------
# Carl Schmertmann
# created 21 Sep 18
# altered 31 Sep 18
#
# age at which e(x)=15, by state and period
#---------------------------------------------
rm(list=ls())
library(tidyverse)
library(viridis)
graphics.off()
if (.Platform$OS.type == 'windows') windows(record=TRUE, width=8, height=8)
included_states = sort( c(state.abb, 'DC'))
file_list = paste0('States/',included_states,'/',
included_states,'_bltper_1x1.csv')
unzip(zipfile='lifetables.zip', files=file_list, junkpaths=TRUE)
state.df = data.frame()
for (this.state in included_states) {
this.file = paste0(this.state,'_bltper_1x1.csv')
this.df = read.csv(this.file, stringsAsFactors = FALSE)
this.df$Age = 0:110 # make numeric
state.df = rbind( state.df, this.df)
file.remove(this.file)
}
## find the age at which ex=15 from an ex column
e_inverse = function( target_value=15, ex_column) {
approx( x=ex_column, y=0:110, xout = target_value)$y
}
keep.df = state.df %>%
group_by(PopName, Year) %>%
summarize( x10 = e_inverse(10, ex),
x15 = e_inverse(15, ex)) %>%
group_by(Year) %>%
mutate (rank10 = rank(x10),
rank15 = rank(x15))
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=2.2, alpha=.80, family='consolas') +
scale_color_manual(values=c('red','blue','black')) +
guides(color=FALSE) +
geom_text( aes(x=50, y=65.0), label='1965', size=5, col='red') +
geom_text( aes(x=50, y=69.0), label='1990', size=5, col='blue') +
geom_text( aes(x=50, y=72.0), label='2015', size=5, col='black') +
labs(title='At which you can expect to live 15 more years?\nby state of residence',
x='',
y='Age at which ex=15',
caption='Both sexes combined, from US Mortality Database http://usa.mortality.org') +
theme(text=element_text(face='bold')) +
theme_bw()
ggsave(file='when-is-ex-equal-15.png')
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=2.2, alpha=.80, family='consolas', fontface='bold') +
scale_color_manual(values=c('red','blue','black')) +
guides(color=FALSE) +
geom_text( aes(x=50, y=65.0), label='1965', size=5, col='red') +
geom_text( aes(x=50, y=69.0), label='1990', size=5, col='blue') +
geom_text( aes(x=50, y=72.0), label='2015', size=5, col='black') +
labs(title='At which you can expect to live 15 more years?\nby state of residence',
x='',
y='Age at which ex=15',
caption='Both sexes combined, from US Mortality Database http://usa.mortality.org') +
theme(text=element_text(face='bold')) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=2.2, alpha=.80, family='monospace', fontface='bold') +
scale_color_manual(values=c('red','blue','black')) +
guides(color=FALSE) +
geom_text( aes(x=50, y=65.0), label='1965', size=5, col='red') +
geom_text( aes(x=50, y=69.0), label='1990', size=5, col='blue') +
geom_text( aes(x=50, y=72.0), label='2015', size=5, col='black') +
labs(title='At which you can expect to live 15 more years?\nby state of residence',
x='',
y='Age at which ex=15',
caption='Both sexes combined, from US Mortality Database http://usa.mortality.org') +
theme(text=element_text(face='bold')) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=2.2, alpha=.80, family='courier', fontface='bold') +
scale_color_manual(values=c('red','blue','black')) +
guides(color=FALSE) +
geom_text( aes(x=50, y=65.0), label='1965', size=5, col='red') +
geom_text( aes(x=50, y=69.0), label='1990', size=5, col='blue') +
geom_text( aes(x=50, y=72.0), label='2015', size=5, col='black') +
labs(title='At which you can expect to live 15 more years?\nby state of residence',
x='',
y='Age at which ex=15',
caption='Both sexes combined, from US Mortality Database http://usa.mortality.org') +
theme(text=element_text(face='bold')) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=2.2, alpha=.80, family='Courier', fontface='bold') +
scale_color_manual(values=c('red','blue','black')) +
guides(color=FALSE) +
geom_text( aes(x=50, y=65.0), label='1965', size=5, col='red') +
geom_text( aes(x=50, y=69.0), label='1990', size=5, col='blue') +
geom_text( aes(x=50, y=72.0), label='2015', size=5, col='black') +
labs(title='At which you can expect to live 15 more years?\nby state of residence',
x='',
y='Age at which ex=15',
caption='Both sexes combined, from US Mortality Database http://usa.mortality.org') +
theme(text=element_text(face='bold')) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=2.2, family='Courier', fontface='bold') +
scale_color_manual(values=c('red','blue','black')) +
guides(color=FALSE) +
geom_text( aes(x=50, y=65.0), label='1965', size=5, col='red') +
geom_text( aes(x=50, y=69.0), label='1990', size=5, col='blue') +
geom_text( aes(x=50, y=72.0), label='2015', size=5, col='black') +
labs(title='At which you can expect to live 15 more years?\nby state of residence',
x='',
y='Age at which ex=15',
caption='Both sexes combined, from US Mortality Database http://usa.mortality.org') +
theme(text=element_text(face='bold')) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=2.2, family='Consolas', fontface='bold') +
scale_color_manual(values=c('red','blue','black')) +
guides(color=FALSE) +
geom_text( aes(x=50, y=65.0), label='1965', size=5, col='red') +
geom_text( aes(x=50, y=69.0), label='1990', size=5, col='blue') +
geom_text( aes(x=50, y=72.0), label='2015', size=5, col='black') +
labs(title='At which you can expect to live 15 more years?\nby state of residence',
x='',
y='Age at which ex=15',
caption='Both sexes combined, from US Mortality Database http://usa.mortality.org') +
theme(text=element_text(face='bold')) +
theme_bw()
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=2.2,  fontface='bold') +
scale_color_manual(values=c('red','blue','black')) +
guides(color=FALSE) +
geom_text( aes(x=50, y=65.0), label='1965', size=5, col='red') +
geom_text( aes(x=50, y=69.0), label='1990', size=5, col='blue') +
geom_text( aes(x=50, y=72.0), label='2015', size=5, col='black') +
labs(title='At which you can expect to live 15 more years?\nby state of residence',
x='',
y='Age at which ex=15',
caption='Both sexes combined, from US Mortality Database http://usa.mortality.org') +
theme(text=element_text(face='bold')) +
theme_bw()
#---------------------------------------------
# Carl Schmertmann
# created 21 Sep 18
# altered 21 Sep 18
#
# age at which e(x)=15, by state and period
#---------------------------------------------
rm(list=ls())
library(tidyverse)
library(viridis)
graphics.off()
if (.Platform$OS.type == 'windows') windows(record=TRUE, width=8, height=8)
included_states = sort( c(state.abb, 'DC'))
file_list = paste0('States/',included_states,'/',
included_states,'_bltper_1x1.csv')
unzip(zipfile='lifetables.zip', files=file_list, junkpaths=TRUE)
state.df = data.frame()
for (this.state in included_states) {
this.file = paste0(this.state,'_bltper_1x1.csv')
this.df = read.csv(this.file, stringsAsFactors = FALSE)
this.df$Age = 0:110 # make numeric
state.df = rbind( state.df, this.df)
file.remove(this.file)
}
## find the age at which ex=15 from an ex column
e_inverse = function( target_value=15, ex_column) {
approx( x=ex_column, y=0:110, xout = target_value)$y
}
keep.df = state.df %>%
group_by(PopName, Year) %>%
summarize( x10 = e_inverse(10, ex),
x15 = e_inverse(15, ex)) %>%
group_by(Year) %>%
mutate (rank10 = rank(x10),
rank15 = rank(x15))
ggplot(data = filter(keep.df, Year %in% c(1965,1990,2015)),
aes(x=rank15, y=x15, label=PopName, color=as.factor(Year))) +
geom_text(size=2.2,  fontface='bold') +
scale_color_manual(values=c('red','blue','black')) +
guides(color=FALSE) +
geom_text( aes(x=50, y=65.0), label='1965', size=5, col='red') +
geom_text( aes(x=50, y=69.0), label='1990', size=5, col='blue') +
geom_text( aes(x=50, y=72.0), label='2015', size=5, col='black') +
labs(title='At which you can expect to live 15 more years?\nby state of residence',
x='',
y='Age at which e(x)=15',
caption='Both sexes combined, from US Mortality Database http://usa.mortality.org') +
theme(text=element_text(face='bold')) +
theme_bw()
ggsave(file='when-is-ex-equal-15.png')
